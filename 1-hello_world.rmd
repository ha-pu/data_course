---
title: "Hello World!"
author: Harald Puhr
date: "April 1, 2025"
---

# 1. Hello World!

This code snippet demonstrates a simple "Hello World!" program in R.
It prints the message "Hello World!" to the console.

```{r}
print("Hello World!")
```

# 2. Load tidyverse library

This code snippet loads the "tidyverse" library, which is a collection of R
packages designed for data science. The "tidyverse" includes packages like
ggplot2, dplyr, tidyr, readr, purrr, and others, providing tools for data
manipulation, visualization, and analysis.

```{r}
library(tidyverse)
```

# 3. Basic data generation and summary

## 3.1 Generate a data frame with random data

This code snippet generates a tibble (data frame) with 1000 rows and 5 columns:

+ var1: Numeric vector with 1000 random values drawn from a standard normal distribution.
+ var2: Numeric vector with 1000 random values drawn from a standard normal distribution.
+ var3: Numeric vector with 1000 random values drawn from a standard normal distribution.
+ var4: Character vector with 1000 random values sampled from the letters 'a', 'b', 'c', and 'd'.
+ var5: Logical vector with 1000 random TRUE or FALSE values.

```{r}
df <- tibble(
    var1 = rnorm(1000),
    var2 = rnorm(1000),
    var3 = rnorm(1000),
    var4 = sample(letters[1:4], 1000, replace = TRUE),
    var5 = sample(c(TRUE, FALSE), 1000, replace = TRUE)
)
```

## 3.2 Summary

This code snippted shows the contents of the df:

+ `slice_head(df, n = 10)`: Displays the first 10 rows of the dataframe `df`.
+ `slice_max(df, var1, n = 10)`: Selects the top 10 rows of `df` based on the maximum values of the variable `var1`.
+ `slice_min(df, var1, n = 10)`: Selects the top 10 rows of `df` based on the minimum values of the variable `var1`.
+ `slice_sample(df, n = 10)`: Randomly selects 10 rows from the dataframe `df`.
+ `slice_tail(df, n = 10)`: Displays the last 10 rows of the dataframe `df`.

```{r}
slice_head(df, n = 10)
slice_max(df, order_by = var1, n = 10)
slice_min(df, order_by = var1, n = 10)
slice_sample(df, n = 10)
slice_tail(df, n = 10)
```

This code snippet provides a summary of the data frame `df` using the
`summary()` function. The `summary()` function generates descriptive statistics
for each column in the data frame, including measures such as minimum, maximum,
mean, median, and quartiles for numeric columns, and frequency counts for
categorical columns.

```{r}
summary(df)
```

## 3.3 Data visualization

This code snippet generates a scatter plot using ggplot2.
+ The data frame `df` is piped into the ggplot function.
+ A scatter plot is created with `geom_point`, mapping `var1` to the x-axis and `var2` to the y-axis.
The `%>%` operator is used to pipe the dataframe into the `summarise` function for computation.

```{r}
df %>%
    ggplot() +
    geom_point(aes(x = var1, y = var2))
```

This code snippet creates a scatter plot using ggplot2 in R.

+ The data frame `df` is piped into the ggplot function.
+ `geom_point()` is used to add points to the plot.
+ Aesthetic mappings (`aes`) specify:
    + `x`: the variable `var1` for the x-axis.
    + `y`: the variable `var2` for the y-axis.
    + `color`: the variable `var4` to determine the color of the points.

```{r}
df %>%
    ggplot() +
    geom_point(aes(x = var1, y = var2, color = var4))
```

This code snippet generates a boxplot using ggplot2 in R. It creates a boxplot
with `geom_boxplot`, mapping `var5` to the x-axis and `var1` to the y-axis.

```{r}
df %>%
    ggplot() +
    geom_boxplot(aes(x = var5, y = var1))
```

## 3.4 Custom summaries

This code snippet snippet performs a summary of the `var1` column in the
dataframe `df`. It calculates the following statistical measures:

+ `min`: The minimum value of `var1`.
+ `q25`: The 25th percentile (first quartile) of `var1`.
+ `mean`: The mean (average) value of `var1`.
+ `median`: The median (50th percentile) of `var1`.
+ `q75`: The 75th percentile (third quartile) of `var1`.
+ `max`: The maximum value of `var1`.
+ `sd`: The standard deviation of `var1`.

```{r}
df %>%
    summarise(
        min = min(var1),
        q25 = quantile(var1, 0.25),
        mean = mean(var1),
        median = median(var1),
        q75 = quantile(var1, 0.75),
        max = max(var1),
        sd = sd(var1)
    )
```

This code snippet performs a summary operation on a data frame `df` using the
`dplyr` package. It calculates the following summary statistics for the variable
`var1`, grouped by `var4`:

+ Minimum value (`min`)
+ First quartile (25th percentile, `q25`)
+ Mean value (`mean`)
+ Median value (`median`)
+ Third quartile (75th percentile, `q75`)
+ Maximum value (`max`)
+ Standard deviation (`sd`)

The `.by` argument specifies that the summary statistics are computed for each
group defined by `var4`.

```{r}
df %>%
    summarise(
        min = min(var1),
        q25 = quantile(var1, 0.25),
        mean = mean(var1),
        median = median(var1),
        q75 = quantile(var1, 0.75),
        max = max(var1),
        sd = sd(var1),
        .by = var4
    )
```

This script calculates the correlation between two variables (var1 and var2)
from a data frame (df). The `cor` function is used to compute the correlation
coefficient, which measures the strength and direction of the linear
relationship between the two variables.

```{r}
cor(df$var1, df$var2)
```

This code snippet calculates the correlation matrix for all numeric columns in a data frame `df`.
It performs the following steps:
1. Uses the `select()` function with `where(is.numeric)` to filter and select only numeric columns from `df`.
2. Passes the selected numeric columns to the `cor()` function to compute the correlation matrix.

```{r}
df %>%
    select(where(is.numeric)) %>%
    cor()
```

This code snippet uses the `count` function from the `dplyr` package to count
the occurrences of unique combinations of the variable `var4` in the dataframe `df`.

```{r}
df %>%
    count(var4)
```

This code snippet uses the `count` function from the `dplyr` package to count
the occurrences of unique combinations of the variables `var4` and `var5`
in the dataframe `df`.

```{r}
df %>%
    count(var4, var5)
```

## 3.5 Data manipulation

This script performs data manipulation on a dataframe `df` using the `dplyr` package.
It creates two new variables:
1. `var6`: The sum of `var1` and `var2`.
2. `var7`: The square of `var6` added to `var1`.
Then, it stores the modified dataframe in a new dataframe `df2`.

```{r}
df2 <- df %>%
    mutate(var6 = var1 + var2) %>%
    mutate(var7 = var6^2 + var1)
```
